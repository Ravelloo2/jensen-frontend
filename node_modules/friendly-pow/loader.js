// This is a hand-pruned version of the assemblyscript loader, removing
// a lot of functionality we don't need, saving in bundle size.
function addUtilityExports(instance) {
    const extendedExports = {};
    const exports = instance.exports;
    const memory = exports.memory;
    const alloc = exports["__alloc"];
    const retain = exports["__retain"];
    const rttiBase = exports["__rtti_base"] || ~0; // oob if not present
    /** Gets the runtime type info for the given id. */
    function getInfo(id) {
        const U32 = new Uint32Array(memory.buffer);
        // const count = U32[rttiBase >>> 2];
        // if ((id >>>= 0) >= count) throw Error("invalid id: " + id);
        return U32[(rttiBase + 4 >>> 2) + id * 2];
    }
    /** Allocates a new array in the module's memory and returns its retained pointer. */
    extendedExports.__allocArray = (id, values) => {
        const info = getInfo(id);
        const align = 31 - Math.clz32((info >>> 6) & 31);
        const length = values.length;
        const buf = alloc(length << align, 0);
        const arr = alloc(12, id);
        const U32 = new Uint32Array(memory.buffer);
        U32[arr + 0 >>> 2] = retain(buf);
        U32[arr + 4 >>> 2] = buf;
        U32[arr + 8 >>> 2] = length << align;
        const buffer = memory.buffer;
        const view = new Uint8Array(buffer);
        if (info & (1 << 14)) {
            for (let i = 0; i < length; ++i)
                view[(buf >>> align) + i] = retain(values[i]);
        }
        else {
            view.set(values, buf >>> align);
        }
        return arr;
    };
    extendedExports.__getUint8Array = (ptr) => {
        const U32 = new Uint32Array(memory.buffer);
        const bufPtr = U32[ptr + 4 >>> 2];
        return new Uint8Array(memory.buffer, bufPtr, U32[bufPtr - 4 >>> 2] >>> 0);
    };
    return demangle(exports, extendedExports);
}
/** Demangles an AssemblyScript module's exports to a friendly object structure. */
function demangle(exports, extendedExports = {}) {
    // extendedExports = Object.create(extendedExports);
    const setArgumentsLength = exports["__argumentsLength"]
        ? (length) => { exports["__argumentsLength"].value = length; }
        : exports["__setArgumentsLength"] || exports["__setargc"] || (() => { return {}; });
    for (const internalName in exports) {
        if (!Object.prototype.hasOwnProperty.call(exports, internalName))
            continue;
        const elem = exports[internalName];
        // Only necessary if nested exports are present
        //   let parts = internalName.split(".");
        //   let curr = extendedExports;
        //   while (parts.length > 1) {
        //     let part = parts.shift();
        //     if (!Object.prototype.hasOwnProperty.call(curr, part as any)) curr[part as any] = {};
        //     curr = curr[part as any];
        //   }
        const name = internalName.split(".")[0];
        if (typeof elem === "function" && elem !== setArgumentsLength) {
            (extendedExports[name] = (...args) => {
                setArgumentsLength(args.length);
                return elem(...args);
            }).original = elem;
        }
        else {
            extendedExports[name] = elem;
        }
    }
    return extendedExports;
}
export async function instantiateWasmSolver(module) {
    const imports = { env: {
            abort() { throw Error("Wasm aborted"); }
        } };
    const result = await WebAssembly.instantiate(module, imports);
    const exports = addUtilityExports(result);
    return { exports };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2xvYWRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFLQSx1RUFBdUU7QUFDdkUsK0RBQStEO0FBQy9ELFNBQVMsaUJBQWlCLENBQUMsUUFBYTtJQUNwQyxNQUFNLGVBQWUsR0FBUSxFQUFFLENBQUM7SUFDaEMsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQztJQUNqQyxNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO0lBQzlCLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztJQUNqQyxNQUFNLE1BQU0sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDbkMsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMscUJBQXFCO0lBRXBFLG1EQUFtRDtJQUNuRCxTQUFTLE9BQU8sQ0FBQyxFQUFTO1FBQ3RCLE1BQU0sR0FBRyxHQUFHLElBQUksV0FBVyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzQyxxQ0FBcUM7UUFDckMsOERBQThEO1FBQzlELE9BQU8sR0FBRyxDQUFDLENBQUMsUUFBUSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDOUMsQ0FBQztJQUVELHFGQUFxRjtJQUNyRixlQUFlLENBQUMsWUFBWSxHQUFHLENBQUMsRUFBUyxFQUFFLE1BQVcsRUFBRSxFQUFFO1FBQ3RELE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUN6QixNQUFNLEtBQUssR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUNqRCxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFB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QUFHLFlBQVksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFFeEMsSUFBSSxPQUFPLElBQUksS0FBSyxVQUFVLElBQUksSUFBSSxLQUFLLGtCQUFrQixFQUFFO1lBQzFELENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFXLEVBQUUsRUFBRTtnQkFDekMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNoQyxPQUFPLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1lBQ3JCLENBQUMsQ0FBUyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7U0FDOUI7YUFBTTtZQUNILGVBQWUsQ0FBQyxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUM7U0FDaEM7S0FDSjtJQUNELE9BQU8sZUFBZSxDQUFDO0FBQzNCLENBQUM7QUFFRCxNQUFNLENBQUMsS0FBSyxVQUFVLHFCQUFxQixDQUFDLE1BQVc7SUFDbkQsTUFBTSxPQUFPLEdBQVEsRUFBQyxHQUFHLEVBQUU7WUFDdkIsS0FBSyxLQUFHLE1BQU0sS0FBSyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUEsQ0FBQztTQUN4QyxFQUFDLENBQUM7SUFFSCxNQUFNLE1BQU0sR0FBRyxNQUFNLFdBQVcsQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0lBQzlELE1BQU0sT0FBTyxHQUFHLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBRTFDLE9BQU8sRUFBQyxPQUFPLEVBQVEsQ0FBQztBQUM1QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IEFTVXRpbCwgeyBSZXN1bHRPYmplY3QgfSBmcm9tIFwiQGFzc2VtYmx5c2NyaXB0L2xvYWRlclwiO1xyXG5pbXBvcnQgQVNNb2R1bGUgZnJvbSBcIi4uL2Rpc3Qvd2FzbS9vcHRpbWl6ZWRcIjtcclxuXHJcbmRlY2xhcmUgY29uc3QgV2ViQXNzZW1ibHk6IGFueTtcclxuXHJcbi8vIFRoaXMgaXMgYSBoYW5kLXBydW5lZCB2ZXJzaW9uIG9mIHRoZSBhc3NlbWJseXNjcmlwdCBsb2FkZXIsIHJlbW92aW5nXHJcbi8vIGEgbG90IG9mIGZ1bmN0aW9uYWxpdHkgd2UgZG9uJ3QgbmVlZCwgc2F2aW5nIGluIGJ1bmRsZSBzaXplLlxyXG5mdW5jdGlvbiBhZGRVdGlsaXR5RXhwb3J0cyhpbnN0YW5jZTogYW55KSB7XHJcbiAgICBjb25zdCBleHRlbmRlZEV4cG9ydHM6IGFueSA9IHt9O1xyXG4gICAgY29uc3QgZXhwb3J0cyA9IGluc3RhbmNlLmV4cG9ydHM7XHJcbiAgICBjb25zdCBtZW1vcnkgPSBleHBvcnRzLm1lbW9yeTtcclxuICAgIGNvbnN0IGFsbG9jID0gZXhwb3J0c1tcIl9fYWxsb2NcIl07XHJcbiAgICBjb25zdCByZXRhaW4gPSBleHBvcnRzW1wiX19yZXRhaW5cIl07XHJcbiAgICBjb25zdCBydHRpQmFzZSA9IGV4cG9ydHNbXCJfX3J0dGlfYmFzZVwiXSB8fCB+MDsgLy8gb29iIGlmIG5vdCBwcmVzZW50XHJcblxyXG4gICAgLyoqIEdldHMgdGhlIHJ1bnRpbWUgdHlwZSBpbmZvIGZvciB0aGUgZ2l2ZW4gaWQuICovXHJcbiAgICBmdW5jdGlvbiBnZXRJbmZvKGlkOiB1c2l6ZSkge1xyXG4gICAgICAgIGNvbnN0IFUzMiA9IG5ldyBVaW50MzJBcnJheShtZW1vcnkuYnVmZmVyKTtcclxuICAgICAgICAvLyBjb25zdCBjb3VudCA9IFUzMltydHRpQmFzZSA+Pj4gMl07XHJcbiAgICAgICAgLy8gaWYgKChpZCA+Pj49IDApID49IGNvdW50KSB0aHJvdyBFcnJvcihcImludmFsaWQgaWQ6IFwiICsgaWQpO1xyXG4gICAgICAgIHJldHVybiBVMzJbKHJ0dGlCYXNlICsgNCA+Pj4gMikgKyBpZCAqIDJdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKiBBbGxvY2F0ZXMgYSBuZXcgYXJyYXkgaW4gdGhlIG1vZHVsZSdzIG1lbW9yeSBhbmQgcmV0dXJucyBpdHMgcmV0YWluZWQgcG9pbnRlci4gKi9cclxuICAgIGV4dGVuZGVkRXhwb3J0cy5fX2FsbG9jQXJyYXkgPSAoaWQ6IHVzaXplLCB2YWx1ZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluZm8gPSBnZXRJbmZvKGlkKTtcclxuICAgICAgICBjb25zdCBhbGlnbiA9IDMxIC0gTWF0aC5jbHozMigoaW5mbyA+Pj4gNikgJiAzMSk7XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBidWYgPSBhbGxvYyhsZW5ndGggPDwgYWxpZ24sIDApO1xyXG4gICAgICAgIGNvbnN0IGFyciA9IGFsbG9jKDEyLCBpZCk7XHJcbiAgICAgICAgY29uc3QgVTMyID0gbmV3IFVpbnQzMkFycmF5KG1lbW9yeS5idWZmZXIpO1xyXG4gICAgICAgIFUzMlthcnIgKyAwID4+PiAyXSA9IHJldGFpbihidWYpO1xyXG4gICAgICAgIFUzMlthcnIgKyA0ID4+PiAyXSA9IGJ1ZjtcclxuICAgICAgICBVMzJbYXJyICsgOCA+Pj4gMl0gPSBsZW5ndGggPDwgYWxpZ247XHJcbiAgICAgICAgY29uc3QgYnVmZmVyID0gbWVtb3J5LmJ1ZmZlcjtcclxuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcclxuICAgICAgICBpZiAoaW5mbyAmICgxIDw8IDE0KSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHZpZXdbKGJ1ZiA+Pj4gYWxpZ24pICsgaV0gPSByZXRhaW4odmFsdWVzW2ldKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2aWV3LnNldCh2YWx1ZXMsIGJ1ZiA+Pj4gYWxpZ24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJyO1xyXG4gICAgfTtcclxuXHJcbiAgICBleHRlbmRlZEV4cG9ydHMuX19nZXRVaW50OEFycmF5ID0gKHB0cjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgVTMyID0gbmV3IFVpbnQzMkFycmF5KG1lbW9yeS5idWZmZXIpO1xyXG4gICAgICAgIGNvbnN0IGJ1ZlB0ciA9IFUzMltwdHIgKyA0ID4+PiAyXTtcclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkobWVtb3J5LmJ1ZmZlciwgYnVmUHRyLCBVMzJbYnVmUHRyIC0gNCA+Pj4gMl0gPj4+IDApO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBkZW1hbmdsZShleHBvcnRzLCBleHRlbmRlZEV4cG9ydHMpO1xyXG59XHJcblxyXG4vKiogRGVtYW5nbGVzIGFuIEFzc2VtYmx5U2NyaXB0IG1vZHVsZSdzIGV4cG9ydHMgdG8gYSBmcmllbmRseSBvYmplY3Qgc3RydWN0dXJlLiAqL1xyXG5mdW5jdGlvbiBkZW1hbmdsZShleHBvcnRzOiBhbnksIGV4dGVuZGVkRXhwb3J0czogYW55ID0ge30pIHtcclxuICAgIC8vIGV4dGVuZGVkRXhwb3J0cyA9IE9iamVjdC5jcmVhdGUoZXh0ZW5kZWRFeHBvcnRzKTtcclxuXHJcbiAgICBjb25zdCBzZXRBcmd1bWVudHNMZW5ndGggPSBleHBvcnRzW1wiX19hcmd1bWVudHNMZW5ndGhcIl1cclxuICAgICAgPyAobGVuZ3RoOiBhbnkpID0+IHsgZXhwb3J0c1tcIl9fYXJndW1lbnRzTGVuZ3RoXCJdLnZhbHVlID0gbGVuZ3RoOyB9XHJcbiAgICAgIDogZXhwb3J0c1tcIl9fc2V0QXJndW1lbnRzTGVuZ3RoXCJdIHx8IGV4cG9ydHNbXCJfX3NldGFyZ2NcIl0gfHwgKCgpID0+IHtyZXR1cm4ge307fSk7XHJcbiAgICBmb3IgKGNvbnN0IGludGVybmFsTmFtZSBpbiBleHBvcnRzKSB7XHJcbiAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIGludGVybmFsTmFtZSkpIGNvbnRpbnVlO1xyXG4gICAgICBjb25zdCBlbGVtID0gZXhwb3J0c1tpbnRlcm5hbE5hbWVdO1xyXG5cclxuICAgIC8vIE9ubHkgbmVjZXNzYXJ5IGlmIG5lc3RlZCBleHBvcnRzIGFyZSBwcmVzZW50XHJcbiAgICAvLyAgIGxldCBwYXJ0cyA9IGludGVybmFsTmFtZS5zcGxpdChcIi5cIik7XHJcbiAgICAvLyAgIGxldCBjdXJyID0gZXh0ZW5kZWRFeHBvcnRzO1xyXG4gICAgLy8gICB3aGlsZSAocGFydHMubGVuZ3RoID4gMSkge1xyXG4gICAgLy8gICAgIGxldCBwYXJ0ID0gcGFydHMuc2hpZnQoKTtcclxuICAgIC8vICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjdXJyLCBwYXJ0IGFzIGFueSkpIGN1cnJbcGFydCBhcyBhbnldID0ge307XHJcbiAgICAvLyAgICAgY3VyciA9IGN1cnJbcGFydCBhcyBhbnldO1xyXG4gICAgLy8gICB9XHJcblxyXG4gICAgY29uc3QgbmFtZSA9IGludGVybmFsTmFtZS5zcGxpdChcIi5cIilbMF07XHJcblxyXG4gICAgaWYgKHR5cGVvZiBlbGVtID09PSBcImZ1bmN0aW9uXCIgJiYgZWxlbSAhPT0gc2V0QXJndW1lbnRzTGVuZ3RoKSB7XHJcbiAgICAgICAgKChleHRlbmRlZEV4cG9ydHNbbmFtZV0gPSAoLi4uYXJnczogYW55W10pID0+IHtcclxuICAgICAgICAgICAgc2V0QXJndW1lbnRzTGVuZ3RoKGFyZ3MubGVuZ3RoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW0oLi4uYXJncyk7XHJcbiAgICAgICAgICAgIH0pIGFzIGFueSkub3JpZ2luYWwgPSBlbGVtO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV4dGVuZGVkRXhwb3J0c1tuYW1lXSA9IGVsZW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGV4dGVuZGVkRXhwb3J0cztcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluc3RhbnRpYXRlV2FzbVNvbHZlcihtb2R1bGU6IGFueSk6IFByb21pc2U8e2V4cG9ydHM6IC8qKEFTVXRpbC5BU1V0aWwgJiBSZXN1bHRPYmplY3QgKi8gdHlwZW9mIEFTTW9kdWxlICYgYW55fT4ge1xyXG4gICAgY29uc3QgaW1wb3J0czogYW55ID0ge2Vudjoge1xyXG4gICAgICAgIGFib3J0KCl7dGhyb3cgRXJyb3IoXCJXYXNtIGFib3J0ZWRcIik7fVxyXG4gICAgfX07XHJcblxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUobW9kdWxlLCBpbXBvcnRzKTtcclxuICAgIGNvbnN0IGV4cG9ydHMgPSBhZGRVdGlsaXR5RXhwb3J0cyhyZXN1bHQpO1xyXG5cclxuICAgIHJldHVybiB7ZXhwb3J0c30gYXMgYW55O1xyXG59Il19